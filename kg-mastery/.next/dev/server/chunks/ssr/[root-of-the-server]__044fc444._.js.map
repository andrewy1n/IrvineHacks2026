{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/long/irvinehacks/IrvineHacks2026/kg-mastery/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs));\n}\n\nexport const API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n\nexport function getStatusFromConfidence(confidence: number) {\n    if (confidence === 0) return { label: \"Unseen\", emoji: \"‚ö´\", color: \"grey\" } as const;\n    if (confidence < 0.4) return { label: \"Struggling\", emoji: \"üî¥\", color: \"red\" } as const;\n    if (confidence < 0.7) return { label: \"Exposed\", emoji: \"üü°\", color: \"gold\" } as const;\n    return { label: \"Mastered\", emoji: \"üü¢\", color: \"cyan\" } as const;\n}\n\nexport function getAuthToken(): string | null {\n    if (typeof window === \"undefined\") return null;\n    return localStorage.getItem(\"nebula_token\");\n}\n\nexport function setAuthToken(token: string) {\n    localStorage.setItem(\"nebula_token\", token);\n}\n\nexport function clearAuthToken() {\n    localStorage.removeItem(\"nebula_token\");\n}\n\nexport async function apiFetch(path: string, options: RequestInit = {}) {\n    const token = getAuthToken();\n    const headers: Record<string, string> = {\n        ...(options.headers as Record<string, string> || {}),\n    };\n    if (token) {\n        headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    if (!(options.body instanceof FormData)) {\n        headers[\"Content-Type\"] = \"application/json\";\n    }\n\n    const res = await fetch(`${API_BASE}${path}`, {\n        ...options,\n        headers,\n    });\n\n    if (res.status === 401) {\n        clearAuthToken();\n        window.location.href = \"/login\";\n        throw new Error(\"Unauthorized\");\n    }\n\n    return res;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB;AAEO,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEpD,SAAS,wBAAwB,UAAkB;IACtD,IAAI,eAAe,GAAG,OAAO;QAAE,OAAO;QAAU,OAAO;QAAK,OAAO;IAAO;IAC1E,IAAI,aAAa,KAAK,OAAO;QAAE,OAAO;QAAc,OAAO;QAAM,OAAO;IAAM;IAC9E,IAAI,aAAa,KAAK,OAAO;QAAE,OAAO;QAAW,OAAO;QAAM,OAAO;IAAO;IAC5E,OAAO;QAAE,OAAO;QAAY,OAAO;QAAM,OAAO;IAAO;AAC3D;AAEO,SAAS;IACZ,wCAAmC,OAAO;;;AAE9C;AAEO,SAAS,aAAa,KAAa;IACtC,aAAa,OAAO,CAAC,gBAAgB;AACzC;AAEO,SAAS;IACZ,aAAa,UAAU,CAAC;AAC5B;AAEO,eAAe,SAAS,IAAY,EAAE,UAAuB,CAAC,CAAC;IAClE,MAAM,QAAQ;IACd,MAAM,UAAkC;QACpC,GAAI,QAAQ,OAAO,IAA8B,CAAC,CAAC;IACvD;IACA,IAAI,OAAO;QACP,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IAChD;IACA,IAAI,CAAC,CAAC,QAAQ,IAAI,YAAY,QAAQ,GAAG;QACrC,OAAO,CAAC,eAAe,GAAG;IAC9B;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC1C,GAAG,OAAO;QACV;IACJ;IAEA,IAAI,IAAI,MAAM,KAAK,KAAK;QACpB;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG;QACvB,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO;AACX"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/long/irvinehacks/IrvineHacks2026/kg-mastery/src/store/nebulaStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport type { GraphNode, GraphData, Resource, PollData } from \"@/lib/types\";\nimport { apiFetch } from \"@/lib/utils\";\n\ninterface NebulaState {\n    // Graph\n    graphData: GraphData | null;\n    loading: boolean;\n\n    // Selection\n    selectedNode: GraphNode | null;\n    drawerOpen: boolean;\n\n    // Resources\n    resources: Resource[];\n    resourcesLoading: boolean;\n\n    // Poll\n    poll: PollData | null;\n    pollLoading: boolean;\n    pollModalOpen: boolean;\n\n    // Actions\n    fetchGraph: (courseId: string) => Promise<void>;\n    selectNode: (node: GraphNode | null) => void;\n    closeDrawer: () => void;\n    fetchResources: (conceptId: string) => Promise<void>;\n    generatePoll: (conceptId: string) => Promise<void>;\n    updateMastery: (conceptId: string, evalResult: string) => Promise<void>;\n    updateMasteryDelta: (conceptId: string, delta: number) => Promise<void>;\n    setPollModalOpen: (open: boolean) => void;\n    setGraphData: (data: GraphData) => void;\n}\n\nexport const useNebulaStore = create<NebulaState>((set, get) => ({\n    graphData: null,\n    loading: false,\n    selectedNode: null,\n    drawerOpen: false,\n    resources: [],\n    resourcesLoading: false,\n    poll: null,\n    pollLoading: false,\n    pollModalOpen: false,\n\n    fetchGraph: async (courseId: string) => {\n        set({ loading: true });\n        try {\n            const res = await apiFetch(`/api/courses/${courseId}/graph`);\n            if (res.ok) {\n                const data = await res.json();\n                set({ graphData: data, loading: false });\n            } else {\n                set({ loading: false });\n            }\n        } catch {\n            set({ loading: false });\n        }\n    },\n\n    selectNode: (node: GraphNode | null) => {\n        set({ selectedNode: node, drawerOpen: !!node, resources: [], poll: null });\n        if (node) {\n            get().fetchResources(node.id);\n        }\n    },\n\n    closeDrawer: () => set({ drawerOpen: false, selectedNode: null }),\n\n    fetchResources: async (conceptId: string) => {\n        set({ resourcesLoading: true });\n        try {\n            const res = await apiFetch(`/api/concepts/${conceptId}/resources`);\n            if (res.ok) {\n                const data = await res.json();\n                set({ resources: data, resourcesLoading: false });\n            } else {\n                set({ resourcesLoading: false });\n            }\n        } catch {\n            set({ resourcesLoading: false });\n        }\n    },\n\n    generatePoll: async (conceptId: string) => {\n        set({ pollLoading: true, pollModalOpen: true });\n        try {\n            const res = await apiFetch(`/api/concepts/${conceptId}/poll`, { method: \"POST\" });\n            if (res.ok) {\n                const data = await res.json();\n                set({ poll: data, pollLoading: false });\n            } else {\n                set({ pollLoading: false });\n            }\n        } catch {\n            set({ pollLoading: false });\n        }\n    },\n\n    updateMastery: async (conceptId: string, evalResult: string) => {\n        try {\n            const res = await apiFetch(`/api/mastery/${conceptId}`, {\n                method: \"PUT\",\n                body: JSON.stringify({ eval_result: evalResult }),\n            });\n            if (res.ok) {\n                const data = await res.json();\n                // Update the node confidence in the graph\n                set((state) => {\n                    if (!state.graphData) return {};\n                    const nodes = state.graphData.nodes.map((n) =>\n                        n.id === conceptId ? { ...n, confidence: data.confidence } : n\n                    );\n                    const updatedNode = nodes.find((n) => n.id === conceptId) || null;\n                    return {\n                        graphData: { ...state.graphData, nodes },\n                        selectedNode: state.selectedNode?.id === conceptId ? updatedNode : state.selectedNode,\n                    };\n                });\n            }\n        } catch {\n            // silent fail for MVP\n        }\n    },\n\n    updateMasteryDelta: async (conceptId: string, delta: number) => {\n        try {\n            const res = await apiFetch(`/api/mastery/${conceptId}`, {\n                method: \"PUT\",\n                body: JSON.stringify({ delta }),\n            });\n            if (res.ok) {\n                const data = await res.json();\n                set((state) => {\n                    if (!state.graphData) return {};\n                    const nodes = state.graphData.nodes.map((n) =>\n                        n.id === conceptId ? { ...n, confidence: data.confidence } : n\n                    );\n                    const updatedNode = nodes.find((n) => n.id === conceptId) || null;\n                    return {\n                        graphData: { ...state.graphData, nodes },\n                        selectedNode: state.selectedNode?.id === conceptId ? updatedNode : state.selectedNode,\n                    };\n                });\n            }\n        } catch {\n            // silent fail for MVP\n        }\n    },\n\n    setPollModalOpen: (open: boolean) => set({ pollModalOpen: open }),\n\n    setGraphData: (data: GraphData) => set({ graphData: data }),\n}));\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/long/irvinehacks/IrvineHacks2026/kg-mastery/src/app/courses/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState, useCallback } from \"react\";\nimport { useParams, useSearchParams, useRouter } from \"next/navigation\";\nimport dynamic from \"next/dynamic\";\nimport { useNebulaStore } from \"@/store/nebulaStore\";\nimport { getAuthToken, apiFetch, getStatusFromConfidence } from \"@/lib/utils\";\nimport type { GraphNode } from \"@/lib/types\";\nimport {\n    Upload,\n    X,\n    Loader2,\n    ExternalLink,\n    Video,\n    FileText,\n    ThumbsUp,\n    ThumbsDown,\n    Eye,\n    ArrowLeft,\n} from \"lucide-react\";\n\n// Dynamic import for react-force-graph-2d (requires window)\nconst ForceGraph2D = dynamic(() => import(\"react-force-graph-2d\"), {\n    ssr: false,\n});\n\n// Canvas drawing helpers\n// Neon Neural Network Palette\nconst GREY = \"#64748b\";\nconst ORANGE = \"#fb923c\"; // Developing (< 0.4)\nconst YELLOW = \"#facc15\"; // Building (< 0.7)\nconst LIME = \"#a3e635\";   // On Track (< 0.9)\nconst GREEN = \"#4ade80\";  // Mastered (>= 0.9)\n\nfunction getNodeColor(confidence: number): string {\n    if (confidence === 0) return GREY;\n    if (confidence < 0.4) return ORANGE;\n    if (confidence < 0.7) return YELLOW;\n    if (confidence < 0.9) return LIME;\n    return GREEN;\n}\n\nfunction getNodeGlowRadius(confidence: number): number {\n    if (confidence === 0) return 0;\n    if (confidence < 0.4) return 15;\n    if (confidence < 0.7) return 18;\n    if (confidence < 0.9) return 22;\n    return 26;\n}\n\n// Dynamic node radius: ensures the circle is at least large enough to fit the longest word\nconst FONT_WIDTH_ESTIMATE = 6.5; // approx px per char at ~11px bold font\nconst NODE_PADDING = 14;         // px padding inside circle\nconst BASE_RADIUS = 28;          // minimum radius\n\nfunction getNodeRadius(label: string, confidence: number): number {\n    // Find the longest word in the label\n    const longestWord = label.split(/[\\s\\-\\/]+/).reduce(\n        (a, b) => (a.length > b.length ? a : b),\n        \"\"\n    );\n    const minRadiusForWord = (longestWord.length * FONT_WIDTH_ESTIMATE + NODE_PADDING) / 2;\n    const baseForState = confidence === 0 ? BASE_RADIUS * 0.75 : BASE_RADIUS;\n    return Math.max(baseForState, minRadiusForWord);\n}\n\nexport default function CourseGraphPage() {\n    const params = useParams();\n    const searchParams = useSearchParams();\n    const router = useRouter();\n    const courseId = params.id as string;\n    const isDev = searchParams.get(\"dev\") === \"true\";\n\n    const graphRef = useRef<any>(null);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const [uploading, setUploading] = useState(false);\n    const [pulsePhase, setPulsePhase] = useState(0);\n\n    const {\n        graphData,\n        loading,\n        selectedNode,\n        drawerOpen,\n        resources,\n        resourcesLoading,\n        poll,\n        pollLoading,\n        pollModalOpen,\n        fetchGraph,\n        selectNode,\n        closeDrawer,\n        generatePoll,\n        updateMastery,\n        updateMasteryDelta,\n        setPollModalOpen,\n        setGraphData,\n    } = useNebulaStore();\n\n    // Auth guard\n    useEffect(() => {\n        if (!getAuthToken()) {\n            router.replace(\"/login\");\n            return;\n        }\n        fetchGraph(courseId);\n    }, [courseId, router, fetchGraph]);\n\n    // Pulse animation for Exposed (gold) nodes\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setPulsePhase((p) => (p + 0.05) % (Math.PI * 2));\n        }, 50);\n        return () => clearInterval(interval);\n    }, []);\n\n    // Configure d3 layout to be spread out and easy to read\n    useEffect(() => {\n        const hasGraphData = (displayGraph?.nodes?.length ?? 0) > 0;\n        if (graphRef.current && hasGraphData) {\n            // Strong repulsion so nodes stay well separated\n            graphRef.current.d3Force('charge').strength(-800).distanceMax(1200);\n            const linkForce = graphRef.current.d3Force('link');\n            if (linkForce) {\n                linkForce.distance(200);\n            }\n        }\n    }, [graphData?.nodes?.length, graphRef]);\n\n    // PDF Upload\n    const handleUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n        setUploading(true);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const res = await apiFetch(`/api/courses/${courseId}/upload`, {\n                method: \"POST\",\n                body: formData,\n            });\n            if (res.ok) {\n                const data = await res.json();\n                setGraphData(data);\n            } else {\n                const err = await res.json().catch(() => ({ detail: \"Upload failed\" }));\n                alert(err.detail || \"Upload failed\");\n            }\n        } catch {\n            alert(\"Upload failed\");\n        } finally {\n            setUploading(false);\n            if (fileInputRef.current) fileInputRef.current.value = \"\";\n        }\n    };\n\n    // Node click handler\n    const handleNodeClick = useCallback(\n        (node: any) => {\n            selectNode(node as GraphNode);\n        },\n        [selectNode]\n    );\n\n    // Canvas node rendering\n    const nodeCanvasObject = useCallback(\n        (node: any, ctx: CanvasRenderingContext2D, globalScale: number) => {\n            const confidence = node.confidence ?? 0;\n            const color = getNodeColor(confidence);\n            const glowRadius = getNodeGlowRadius(confidence);\n            const label = node.label || \"\";\n            const isSelected = selectedNode?.id === node.id;\n            const drawerIsOpen = drawerOpen === true;\n            const isInDrawer = drawerIsOpen && selectedNode?.id === node.id;\n            const baseRadius = getNodeRadius(label, confidence);\n\n            // Subtle pulsing for nodes in progress\n            let pulse = 1;\n            if (confidence > 0 && confidence < 0.9) {\n                // Different offset per node so they don't pulse the exact same way\n                const offsetPhase = pulsePhase + ((node.id || \"\").length % 10);\n                pulse = 1 + 0.04 * Math.sin(offsetPhase);\n            }\n            const radius = baseRadius * pulse;\n\n            ctx.save();\n            ctx.translate(node.x, node.y);\n\n            // Outer glow layer\n            if (glowRadius > 0) {\n                ctx.save();\n                ctx.shadowColor = color;\n                ctx.shadowBlur = glowRadius * (isSelected ? 2 : 1);\n                ctx.beginPath();\n                ctx.arc(0, 0, radius, 0, Math.PI * 2);\n                ctx.fillStyle = color;\n                ctx.fill();\n                ctx.restore();\n            }\n\n            // Node Background / Fill\n            ctx.beginPath();\n            ctx.arc(0, 0, radius, 0, Math.PI * 2);\n\n            if (confidence === 0) {\n                // Unseen: subtle translucent darker grey\n                ctx.fillStyle = \"rgba(148, 163, 184, 0.15)\";\n                ctx.fill();\n                ctx.strokeStyle = color;\n                ctx.lineWidth = 1.5;\n                ctx.stroke();\n            } else {\n                // Radial gradient fill to fake 3D volume\n                let r = 0, g = 0, b = 0;\n                if (color.startsWith(\"#\")) {\n                    r = parseInt(color.slice(1, 3), 16);\n                    g = parseInt(color.slice(3, 5), 16);\n                    b = parseInt(color.slice(5, 7), 16);\n                }\n                const grad = ctx.createRadialGradient(0, -radius * 0.2, 0, 0, 0, radius);\n                grad.addColorStop(0, `rgba(${r},${g},${b},0.3)`);\n                grad.addColorStop(1, `rgba(${r},${g},${b},0.1)`);\n\n                ctx.fillStyle = grad;\n                ctx.fill();\n\n                ctx.strokeStyle = color;\n                ctx.lineWidth = 2.5;\n                ctx.stroke();\n            }\n\n            // Glossy top highlight (Glassmorphism 3D effect)\n            ctx.beginPath();\n            ctx.ellipse(\n                0, -radius * 0.4,\n                radius * 0.6, radius * 0.25,\n                0,\n                0, Math.PI * 2\n            );\n            const glossGrad = ctx.createLinearGradient(0, -radius * 0.65, 0, -radius * 0.15);\n            glossGrad.addColorStop(0, \"rgba(255,255,255,0.6)\");\n            glossGrad.addColorStop(1, \"rgba(255,255,255,0.0)\");\n            ctx.fillStyle = glossGrad;\n            ctx.fill();\n\n            // Selected ring\n            if (isSelected) {\n                ctx.beginPath();\n                ctx.arc(0, 0, radius + 6, 0, Math.PI * 2);\n                ctx.strokeStyle = \"rgba(255,255,255,0.8)\";\n                ctx.lineWidth = 2;\n                if (isInDrawer) ctx.setLineDash([4, 4]);\n                ctx.stroke();\n                ctx.setLineDash([]); // reset\n            }\n\n            // Label text (word-wrapped inside circle)\n            const fontSize = Math.max(12 / globalScale, 5);\n            // Use Comfortaa variable or fallback to system sans\n            ctx.font = `800 ${fontSize}px var(--font-comfortaa), system-ui, sans-serif`;\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.fillStyle = confidence === 0\n                ? \"rgba(255,255,255,0.6)\"\n                : isSelected ? \"#ffffff\" : \"#f1f5f9\"; // Slate 100 for better contrast\n\n            const maxWidth = radius * 1.7;\n            const words = label.split(/\\s+/);\n            const lines: string[] = [];\n            let currentLine = words[0] || \"\";\n\n            for (let i = 1; i < words.length; i++) {\n                const testLine = currentLine + \" \" + words[i];\n                if (ctx.measureText(testLine).width > maxWidth) {\n                    lines.push(currentLine);\n                    currentLine = words[i];\n                } else {\n                    currentLine = testLine;\n                }\n            }\n            lines.push(currentLine);\n\n            const lineHeight = fontSize * 1.3;\n            const startY = -((lines.length - 1) * lineHeight) / 2;\n            for (let i = 0; i < lines.length; i++) {\n                ctx.fillText(lines[i], 0, startY + i * lineHeight);\n            }\n\n            ctx.restore();\n        },\n        [selectedNode, pulsePhase, drawerOpen]\n    );\n\n    // Pointer area for click detection (matches visual size)\n    const nodePointerAreaPaint = useCallback(\n        (node: any, color: string, ctx: CanvasRenderingContext2D) => {\n            const label = node.label || \"\";\n            const confidence = node.confidence ?? 0;\n            const radius = getNodeRadius(label, confidence);\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            ctx.arc(node.x, node.y, radius, 0, Math.PI * 2);\n            ctx.fill();\n        },\n        []\n    );\n\n    // Custom link rendering with directional arrows\n    const linkCanvasObject = useCallback(\n        (link: any, ctx: CanvasRenderingContext2D) => {\n            const source = link.source;\n            const target = link.target;\n            if (!source || !target || typeof source === \"string\" || typeof target === \"string\") return;\n\n            const targetRadius = getNodeRadius(target.label || \"\", target.confidence ?? 0);\n            const sourceRadius = getNodeRadius(source.label || \"\", source.confidence ?? 0);\n\n            const dx = target.x - source.x;\n            const dy = target.y - source.y;\n            const dist = Math.sqrt(dx * dx + dy * dy);\n\n            if (dist === 0) return;\n\n            const unitX = dx / dist;\n            const unitY = dy / dist;\n\n            // Stop at node boundaries\n            const startX = source.x + unitX * sourceRadius;\n            const startY = source.y + unitY * sourceRadius;\n            // Arrow offset\n            const ARROW_LEN = 8;\n            const endX = target.x - unitX * (targetRadius + ARROW_LEN / 2);\n            const endY = target.y - unitY * (targetRadius + ARROW_LEN / 2);\n\n            // Is moving towards a selected node? Make that edge glow\n            const isPath = selectedNode && (source.id === selectedNode.id || target.id === selectedNode.id);\n\n            ctx.beginPath();\n            ctx.moveTo(startX, startY);\n            ctx.lineTo(endX, endY);\n            ctx.strokeStyle = isPath ? \"rgba(59, 130, 246, 0.8)\" : \"rgba(100, 116, 139, 0.4)\";\n            ctx.lineWidth = isPath ? 2 : 1;\n            ctx.stroke();\n\n            // Arrowhead at the target side\n            ctx.save();\n            ctx.translate(endX, endY);\n            // rotate towards target\n            ctx.rotate(Math.atan2(dy, dx));\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-ARROW_LEN, ARROW_LEN / 1.5);\n            ctx.lineTo(-ARROW_LEN * 0.7, 0);\n            ctx.lineTo(-ARROW_LEN, -ARROW_LEN / 1.5);\n            ctx.closePath();\n            ctx.fillStyle = isPath ? \"#3b82f6\" : \"#64748b\";\n            ctx.fill();\n            ctx.restore();\n        },\n        [selectedNode]\n    );\n\n    const status = selectedNode ? getStatusFromConfidence(selectedNode.confidence) : null;\n\n    // Show only the 10 most important (most-connected) topics\n    const MAX_DISPLAY_NODES = 10;\n    const displayGraph = (() => {\n        if (!graphData || graphData.nodes.length === 0) return null;\n        if (graphData.nodes.length <= MAX_DISPLAY_NODES) return graphData;\n        const linkCount = new Map<string, number>();\n        graphData.nodes.forEach((n) => linkCount.set(n.id, 0));\n        graphData.links.forEach((link) => {\n            const s = typeof link.source === \"string\" ? link.source : (link.source as GraphNode).id;\n            const t = typeof link.target === \"string\" ? link.target : (link.target as GraphNode).id;\n            linkCount.set(s, (linkCount.get(s) ?? 0) + 1);\n            linkCount.set(t, (linkCount.get(t) ?? 0) + 1);\n        });\n        const sorted = [...graphData.nodes].sort(\n            (a, b) => (linkCount.get(b.id) ?? 0) - (linkCount.get(a.id) ?? 0)\n        );\n        const kept = new Set(sorted.slice(0, MAX_DISPLAY_NODES).map((n) => n.id));\n        const nodes = graphData.nodes.filter((n) => kept.has(n.id));\n        const links = graphData.links.filter((link) => {\n            const s = typeof link.source === \"string\" ? link.source : (link.source as GraphNode).id;\n            const t = typeof link.target === \"string\" ? link.target : (link.target as GraphNode).id;\n            return kept.has(s) && kept.has(t);\n        });\n        return { ...graphData, nodes, links };\n    })();\n\n    const hasGraph = displayGraph && displayGraph.nodes.length > 0;\n\n    return (\n        <div className=\"h-screen w-screen flex flex-col bg-[#0a0a0a] overflow-hidden\">\n            {/* Header */}\n            <header className=\"flex items-center gap-4 px-4 py-2.5 border-b border-[#C5AE79]/15 bg-[#0a0a0a]/90 backdrop-blur-md z-50 shrink-0\">\n                <button\n                    onClick={() => router.push(\"/courses\")}\n                    className=\"text-[#C5AE79]/50 hover:text-[#C5AE79] transition-colors\"\n                >\n                    <ArrowLeft className=\"w-4 h-4\" />\n                </button>\n                <div className=\"flex items-center gap-2\">\n                    <span className=\"text-xs font-bold tracking-wider text-[#C5AE79]/80\">\n                        NEBULA\n                    </span>\n                    <span className=\"text-[#C5AE79]/20\">|</span>\n                    <span className=\"text-sm font-semibold text-[#C5AE79] truncate max-w-[300px]\">\n                        {graphData?.course?.name || \"Loading...\"}\n                    </span>\n                </div>\n\n                <div className=\"ml-auto flex items-center gap-2\">\n                    <input\n                        type=\"file\"\n                        accept=\"application/pdf\"\n                        className=\"hidden\"\n                        ref={fileInputRef}\n                        onChange={handleUpload}\n                    />\n                    <button\n                        onClick={() => fileInputRef.current?.click()}\n                        disabled={uploading}\n                        className=\"flex items-center gap-1.5 h-8 px-3 text-xs font-medium bg-[#C5AE79]/10 border border-[#C5AE79]/30 text-[#C5AE79] rounded-lg hover:bg-[#C5AE79]/20 transition-all disabled:opacity-50\"\n                    >\n                        {uploading ? (\n                            <Loader2 className=\"w-3.5 h-3.5 animate-spin\" />\n                        ) : (\n                            <Upload className=\"w-3.5 h-3.5\" />\n                        )}\n                        {uploading ? \"Analyzing...\" : \"Upload PDF\"}\n                    </button>\n                </div>\n            </header>\n\n            {/* Main Content */}\n            <div className=\"flex-1 relative min-h-0\">\n                {loading ? (\n                    <div className=\"h-full flex items-center justify-center\">\n                        <Loader2 className=\"w-6 h-6 animate-spin text-[#C5AE79]\" />\n                    </div>\n                ) : !hasGraph ? (\n                    <div className=\"h-full flex flex-col items-center justify-center text-center p-6\">\n                        <div className=\"w-16 h-16 rounded-2xl bg-[#C5AE79]/10 flex items-center justify-center mb-4\">\n                            <Upload className=\"w-8 h-8 text-[#C5AE79]/50\" />\n                        </div>\n                        <h2 className=\"text-lg font-semibold text-[#C5AE79] mb-1\">\n                            Upload Course Material\n                        </h2>\n                        <p className=\"text-xs text-[#C5AE79]/50 max-w-sm mb-4\">\n                            Upload a PDF (syllabus, slides, or textbook) to generate your knowledge graph.\n                        </p>\n                        <button\n                            onClick={() => fileInputRef.current?.click()}\n                            disabled={uploading}\n                            className=\"h-10 px-5 bg-[#C5AE79] text-[#0a0a0a] font-semibold text-sm rounded-lg shadow-[0_0_20px_rgba(197,174,121,0.3)] disabled:opacity-50\"\n                        >\n                            {uploading ? \"Analyzing...\" : \"Select PDF\"}\n                        </button>\n                    </div>\n                ) : (\n                    <ForceGraph2D\n                        ref={graphRef}\n                        graphData={{\n                            nodes: displayGraph.nodes,\n                            links: displayGraph.links,\n                        }}\n                        nodeCanvasObject={nodeCanvasObject}\n                        nodePointerAreaPaint={nodePointerAreaPaint}\n                        linkCanvasObject={linkCanvasObject}\n                        onNodeClick={handleNodeClick}\n                        backgroundColor=\"#0a0a0a\"\n                        nodeRelSize={28}\n                        linkWidth={0} // Handled by linkCanvasObject\n                        linkColor={() => \"transparent\"} // Handled by linkCanvasObject\n                        dagMode=\"lr\"\n                        dagLevelDistance={220}\n                        warmupTicks={300}\n                        cooldownTicks={0}\n                        d3AlphaDecay={0.02}\n                        d3VelocityDecay={0.3}\n                        enableNodeDrag={true}\n                        enableZoomInteraction={true}\n                        enablePanInteraction={true}\n                    />\n                )}\n\n                {/* Legend Overlay at the bottom left */}\n                {hasGraph && (\n                    <div className=\"absolute bottom-6 left-6 p-4 rounded-xl bg-[#0f0f12]/80 border border-[#1e1e24] shadow-2xl backdrop-blur-md z-10 pointer-events-auto transition-opacity\">\n                        <div className=\"flex flex-col gap-3 text-xs text-gray-400 font-medium\">\n                            <div className=\"flex items-center gap-3\">\n                                <svg width=\"32\" height=\"6\"><line x1=\"0\" y1=\"3\" x2=\"26\" y2=\"3\" stroke=\"#64748b\" strokeWidth=\"1.5\" /><polygon points=\"26,0 32,3 26,6\" fill=\"#64748b\" /></svg>\n                                <span>Prerequisite</span>\n                            </div>\n                            <div className=\"h-px bg-gray-800 my-1\" />\n                            <div className=\"grid grid-cols-2 gap-x-6 gap-y-3\">\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-2.5 h-2.5 rounded-full shadow-[0_0_8px_#4ade80]\" style={{ background: \"#4ade80\" }} />\n                                    <span className=\"text-gray-300\">Mastered</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-2.5 h-2.5 rounded-full shadow-[0_0_8px_#a3e635]\" style={{ background: \"#a3e635\" }} />\n                                    <span className=\"text-gray-300\">On Track</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-2.5 h-2.5 rounded-full shadow-[0_0_8px_#facc15]\" style={{ background: \"#facc15\" }} />\n                                    <span className=\"text-gray-300\">Building</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-2.5 h-2.5 rounded-full shadow-[0_0_8px_#fb923c]\" style={{ background: \"#fb923c\" }} />\n                                    <span className=\"text-gray-300\">Developing</span>\n                                </div>\n                                <div className=\"flex items-center gap-2 col-span-2\">\n                                    <div className=\"w-2.5 h-2.5 rounded-full border border-gray-500 bg-gray-500/20\" />\n                                    <span className=\"text-gray-400\">Not Started</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Right Drawer */}\n                {drawerOpen && selectedNode && (\n                    <div className=\"absolute top-0 right-0 h-full w-80 bg-[#111]/95 border-l border-[#C5AE79]/15 backdrop-blur-xl z-40 flex flex-col shadow-[-10px_0_40px_rgba(0,0,0,0.5)]\">\n                        {/* Drawer Header */}\n                        <div className=\"flex items-start justify-between p-4 border-b border-[#C5AE79]/15\">\n                            <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-2 mb-1\">\n                                    <span className=\"text-base\">{status?.emoji}</span>\n                                    <span\n                                        className=\"text-[10px] font-semibold uppercase tracking-wider\"\n                                        style={{ color: getNodeColor(selectedNode.confidence) }}\n                                    >\n                                        {status?.label}\n                                    </span>\n                                </div>\n                                <h3 className=\"text-sm font-bold text-[#C5AE79] truncate\">\n                                    {selectedNode.label}\n                                </h3>\n                                <span className=\"text-[10px] text-[#C5AE79]/40 capitalize\">\n                                    {selectedNode.concept_type}\n                                </span>\n                            </div>\n                            <button\n                                onClick={closeDrawer}\n                                className=\"p-1 text-[#C5AE79]/40 hover:text-[#C5AE79] transition-colors\"\n                            >\n                                <X className=\"w-4 h-4\" />\n                            </button>\n                        </div>\n\n                        {/* Drawer Body */}\n                        <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                            {/* Description */}\n                            <p className=\"text-xs text-[#C5AE79]/70 leading-relaxed\">\n                                {selectedNode.description}\n                            </p>\n\n                            {/* Confidence Bar */}\n                            <div>\n                                <div className=\"flex items-center justify-between text-[10px] mb-1\">\n                                    <span className=\"text-[#C5AE79]/50 font-medium\">Confidence</span>\n                                    <span className=\"font-bold text-[#C5AE79]\">\n                                        {Math.round(selectedNode.confidence * 100)}%\n                                    </span>\n                                </div>\n                                <div className=\"h-1.5 bg-[#0a0a0a] rounded-full border border-[#C5AE79]/10 overflow-hidden\">\n                                    <div\n                                        className=\"h-full rounded-full transition-all duration-500\"\n                                        style={{\n                                            width: `${selectedNode.confidence * 100}%`,\n                                            backgroundColor: getNodeColor(selectedNode.confidence),\n                                            boxShadow: `0 0 8px ${getNodeColor(selectedNode.confidence)}`,\n                                        }}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Resources */}\n                            <div>\n                                <h4 className=\"text-[10px] font-semibold text-[#C5AE79] uppercase tracking-wider mb-2\">\n                                    Recommended Resources\n                                </h4>\n                                {resourcesLoading ? (\n                                    <div className=\"flex items-center gap-2 text-[#C5AE79]/40 text-xs py-3\">\n                                        <Loader2 className=\"w-3 h-3 animate-spin\" />\n                                        Loading resources...\n                                    </div>\n                                ) : (\n                                    <div className=\"space-y-1.5\">\n                                        {resources.map((r, i) => (\n                                            <a\n                                                key={i}\n                                                href={r.url}\n                                                target=\"_blank\"\n                                                rel=\"noopener noreferrer\"\n                                                className=\"flex items-start gap-2 p-2.5 rounded-lg bg-[#0a0a0a] border border-[#C5AE79]/10 hover:border-[#00ffff]/30 hover:bg-[#00ffff]/5 transition-all group\"\n                                            >\n                                                {r.type === \"video\" ? (\n                                                    <Video className=\"w-3.5 h-3.5 text-[#C5AE79]/50 mt-0.5 shrink-0 group-hover:text-[#00ffff]\" />\n                                                ) : (\n                                                    <FileText className=\"w-3.5 h-3.5 text-[#C5AE79]/50 mt-0.5 shrink-0 group-hover:text-[#00ffff]\" />\n                                                )}\n                                                <div className=\"flex-1 min-w-0\">\n                                                    <p className=\"text-xs font-medium text-[#C5AE79]/80 group-hover:text-[#C5AE79] truncate\">\n                                                        {r.title}\n                                                    </p>\n                                                    <p className=\"text-[10px] text-[#C5AE79]/40 mt-0.5 line-clamp-2\">\n                                                        {r.why}\n                                                    </p>\n                                                </div>\n                                                <ExternalLink className=\"w-3 h-3 text-[#C5AE79]/20 shrink-0 group-hover:text-[#00ffff]\" />\n                                            </a>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Take Poll Button */}\n                            <button\n                                onClick={() => generatePoll(selectedNode.id)}\n                                disabled={pollLoading}\n                                className=\"w-full h-9 bg-[#C5AE79]/15 border border-[#C5AE79]/30 text-[#C5AE79] text-xs font-semibold rounded-lg hover:bg-[#C5AE79]/25 transition-all disabled:opacity-50\"\n                            >\n                                {pollLoading ? \"Generating...\" : \"üéØ Take Quick Poll\"}\n                            </button>\n\n                            {/* Dev Buttons */}\n                            {isDev && (\n                                <div className=\"pt-3 border-t border-[#C5AE79]/10 space-y-1.5\">\n                                    <p className=\"text-[9px] text-[#C5AE79]/30 uppercase tracking-widest font-mono mb-2\">\n                                        Dev Controls\n                                    </p>\n                                    <button\n                                        onClick={() => updateMastery(selectedNode.id, \"correct\")}\n                                        className=\"w-full h-7 flex items-center justify-center gap-1.5 text-[10px] font-medium border border-[#00ffff]/30 text-[#00ffff] rounded-md hover:bg-[#00ffff]/10 transition-all\"\n                                    >\n                                        <ThumbsUp className=\"w-3 h-3\" /> Simulate Correct\n                                    </button>\n                                    <button\n                                        onClick={() => updateMastery(selectedNode.id, \"wrong\")}\n                                        className=\"w-full h-7 flex items-center justify-center gap-1.5 text-[10px] font-medium border border-[#ff0055]/30 text-[#ff0055] rounded-md hover:bg-[#ff0055]/10 transition-all\"\n                                    >\n                                        <ThumbsDown className=\"w-3 h-3\" /> Simulate Wrong\n                                    </button>\n                                    <button\n                                        onClick={() => updateMasteryDelta(selectedNode.id, 0.3)}\n                                        className=\"w-full h-7 flex items-center justify-center gap-1.5 text-[10px] font-medium border border-[#C5AE79]/30 text-[#C5AE79] rounded-md hover:bg-[#C5AE79]/10 transition-all\"\n                                    >\n                                        <Eye className=\"w-3 h-3\" /> Simulate Exposure (+30%)\n                                    </button>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                )}\n\n                {/* Poll Modal */}\n                {pollModalOpen && (\n                    <PollModal\n                        poll={poll}\n                        loading={pollLoading}\n                        nodeId={selectedNode?.id || \"\"}\n                        onClose={() => setPollModalOpen(false)}\n                        onResult={(evalResult) => {\n                            if (selectedNode) {\n                                updateMastery(selectedNode.id, evalResult);\n                            }\n                            setPollModalOpen(false);\n                        }}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n\n// Poll Modal Component\nfunction PollModal({\n    poll,\n    loading,\n    nodeId,\n    onClose,\n    onResult,\n}: {\n    poll: any;\n    loading: boolean;\n    nodeId: string;\n    onClose: () => void;\n    onResult: (evalResult: string) => void;\n}) {\n    const [selected, setSelected] = useState<string | null>(null);\n    const [showResult, setShowResult] = useState(false);\n\n    const handleSubmit = () => {\n        if (!selected || !poll) return;\n        const isCorrect = selected === poll.correct_answer;\n        setShowResult(true);\n        setTimeout(() => {\n            onResult(isCorrect ? \"correct\" : \"wrong\");\n        }, 1500);\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-[#111] border border-[#C5AE79]/20 rounded-2xl w-full max-w-md p-6 shadow-[0_0_60px_rgba(0,0,0,0.8)]\">\n                {loading || !poll ? (\n                    <div className=\"flex items-center justify-center py-12\">\n                        <Loader2 className=\"w-6 h-6 animate-spin text-[#C5AE79]\" />\n                        <span className=\"ml-3 text-sm text-[#C5AE79]/60\">\n                            Generating question...\n                        </span>\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"flex items-start justify-between mb-4\">\n                            <h3 className=\"text-sm font-bold text-[#C5AE79] leading-snug pr-4\">\n                                {poll.question}\n                            </h3>\n                            <button\n                                onClick={onClose}\n                                className=\"p-1 text-[#C5AE79]/40 hover:text-[#C5AE79] transition-colors shrink-0\"\n                            >\n                                <X className=\"w-4 h-4\" />\n                            </button>\n                        </div>\n\n                        <div className=\"space-y-2 mb-5\">\n                            {poll.options?.map((opt: string, i: number) => {\n                                const letter = opt[0];\n                                const isThis = selected === letter;\n                                const isCorrectAnswer = showResult && letter === poll.correct_answer;\n                                const isWrongSelected =\n                                    showResult && isThis && letter !== poll.correct_answer;\n\n                                return (\n                                    <button\n                                        key={i}\n                                        onClick={() => !showResult && setSelected(letter)}\n                                        disabled={showResult}\n                                        className={`w-full text-left p-3 rounded-lg text-xs border transition-all ${isCorrectAnswer\n                                            ? \"border-[#00ffff]/50 bg-[#00ffff]/10 text-[#00ffff]\"\n                                            : isWrongSelected\n                                                ? \"border-[#ff0055]/50 bg-[#ff0055]/10 text-[#ff0055]\"\n                                                : isThis\n                                                    ? \"border-[#C5AE79]/50 bg-[#C5AE79]/10 text-[#C5AE79]\"\n                                                    : \"border-[#C5AE79]/15 text-[#C5AE79]/70 hover:border-[#C5AE79]/30\"\n                                            }`}\n                                    >\n                                        {opt}\n                                    </button>\n                                );\n                            })}\n                        </div>\n\n                        {!showResult && (\n                            <button\n                                onClick={handleSubmit}\n                                disabled={!selected}\n                                className=\"w-full h-9 bg-[#C5AE79] text-[#0a0a0a] text-xs font-bold rounded-lg disabled:opacity-30 transition-all\"\n                            >\n                                Submit Answer\n                            </button>\n                        )}\n\n                        {showResult && (\n                            <div\n                                className={`text-center text-sm font-semibold py-2 ${selected === poll.correct_answer ? \"text-[#00ffff]\" : \"text-[#ff0055]\"}`}\n                            >\n                                {selected === poll.correct_answer\n                                    ? \"‚úÖ Correct! Mastery updated.\"\n                                    : `‚ùå Wrong. Correct answer: ${poll.correct_answer}`}\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}