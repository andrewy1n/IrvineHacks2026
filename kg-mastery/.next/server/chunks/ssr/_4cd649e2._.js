module.exports=[33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},68063,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getDeploymentId:function(){return f},getDeploymentIdQueryOrEmptyString:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(){return!1}function g(){return""}},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},48921,a=>{"use strict";let b;var c=a.i(87924),d=a.i(72131),e=a.i(50944),f=a.i(19721);let g=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},h=a=>{let b=a?g(a):g,c=a=>(function(a,b=a=>a){let c=d.default.useSyncExternalStore(a.subscribe,d.default.useCallback(()=>b(a.getState()),[a,b]),d.default.useCallback(()=>b(a.getInitialState()),[a,b]));return d.default.useDebugValue(c),c})(b,a);return Object.assign(c,b),c};var i=a.i(68114);let j=(b=(a,b)=>({graphData:null,loading:!1,selectedNode:null,drawerOpen:!1,resources:[],resourcesLoading:!1,poll:null,pollLoading:!1,pollModalOpen:!1,fetchGraph:async b=>{a({loading:!0});try{let c=await (0,i.apiFetch)(`/api/courses/${b}/graph`);if(c.ok){let b=await c.json();a({graphData:b,loading:!1})}else a({loading:!1})}catch{a({loading:!1})}},selectNode:c=>{a({selectedNode:c,drawerOpen:!!c,resources:[],poll:null}),c&&b().fetchResources(c.id)},closeDrawer:()=>a({drawerOpen:!1,selectedNode:null}),fetchResources:async b=>{a({resourcesLoading:!0});try{let c=await (0,i.apiFetch)(`/api/concepts/${b}/resources`);if(c.ok){let b=await c.json();a({resources:b,resourcesLoading:!1})}else a({resourcesLoading:!1})}catch{a({resourcesLoading:!1})}},generatePoll:async b=>{a({pollLoading:!0,pollModalOpen:!0});try{let c=await (0,i.apiFetch)(`/api/concepts/${b}/poll`,{method:"POST"});if(c.ok){let b=await c.json();a({poll:b,pollLoading:!1})}else a({pollLoading:!1})}catch{a({pollLoading:!1})}},updateMastery:async(b,c)=>{try{let d=await (0,i.apiFetch)(`/api/mastery/${b}`,{method:"PUT",body:JSON.stringify({eval_result:c})});if(d.ok){let c=await d.json();a(a=>{if(!a.graphData)return{};let d=a.graphData.nodes.map(a=>a.id===b?{...a,confidence:c.confidence}:a),e=d.find(a=>a.id===b)||null;return{graphData:{...a.graphData,nodes:d},selectedNode:a.selectedNode?.id===b?e:a.selectedNode}})}}catch{}},updateMasteryDelta:async(b,c)=>{try{let d=await (0,i.apiFetch)(`/api/mastery/${b}`,{method:"PUT",body:JSON.stringify({delta:c})});if(d.ok){let c=await d.json();a(a=>{if(!a.graphData)return{};let d=a.graphData.nodes.map(a=>a.id===b?{...a,confidence:c.confidence}:a),e=d.find(a=>a.id===b)||null;return{graphData:{...a.graphData,nodes:d},selectedNode:a.selectedNode?.id===b?e:a.selectedNode}})}}catch{}},setPollModalOpen:b=>a({pollModalOpen:b}),setGraphData:b=>a({graphData:b})}))?h(b):h;var k=a.i(60137);let l=(0,k.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),m=(0,k.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,k.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),o=(0,k.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),p=(0,k.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),q=(0,k.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),r=(0,k.default)("thumbs-up",[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]]),s=(0,k.default)("thumbs-down",[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]]),t=(0,k.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,k.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),v=(0,f.default)(async()=>{},{loadableGenerated:{modules:[64660]},ssr:!1});function w(a){return 0===a?"rgba(255,255,255,0.25)":a<.4?"#ff0055":a<.7?"#C5AE79":"#00ffff"}function x(a,b){return Math.max(0===b?21:28,(6.5*a.split(/[\s\-\/]+/).reduce((a,b)=>a.length>b.length?a:b,"").length+14)/2)}function y(){let a=(0,e.useParams)(),b=(0,e.useSearchParams)(),f=(0,e.useRouter)(),g=a.id,h="true"===b.get("dev"),k=(0,d.useRef)(null),y=(0,d.useRef)(null),[A,B]=(0,d.useState)(!1),[C,D]=(0,d.useState)(0),{graphData:E,loading:F,selectedNode:G,drawerOpen:H,resources:I,resourcesLoading:J,poll:K,pollLoading:L,pollModalOpen:M,fetchGraph:N,selectNode:O,closeDrawer:P,generatePoll:Q,updateMastery:R,updateMasteryDelta:S,setPollModalOpen:T,setGraphData:U}=j();(0,d.useEffect)(()=>{(0,i.getAuthToken)()?N(g):f.replace("/login")},[g,f,N]),(0,d.useEffect)(()=>{let a=setInterval(()=>{D(a=>(a+.05)%(2*Math.PI))},50);return()=>clearInterval(a)},[]);let V=async a=>{let b=a.target.files?.[0];if(b){B(!0);try{let a=new FormData;a.append("file",b);let c=await (0,i.apiFetch)(`/api/courses/${g}/upload`,{method:"POST",body:a});if(c.ok){let a=await c.json();U(a)}else{let a=await c.json().catch(()=>({detail:"Upload failed"}));alert(a.detail||"Upload failed")}}catch{alert("Upload failed")}finally{B(!1),y.current&&(y.current.value="")}}},W=(0,d.useCallback)(a=>{O(a)},[O]),X=(0,d.useCallback)((a,b,c)=>{let d=a.confidence??0,e=w(d),f=0===d?0:d<.4?20:d<.7?14:25,g=a.label||"",h=G?.id===a.id,i=x(g,d),j=1;d>=.4&&d<.7?j=1+.06*Math.sin(C):d>0&&d<.4&&(j=1+.04*Math.sin(1.5*C));let k=i*j;f>0&&(b.save(),b.shadowColor=e,b.shadowBlur=f*(h?2.5:1),b.beginPath(),b.arc(a.x,a.y,k,0,2*Math.PI),b.fillStyle=e,b.fill(),b.restore()),b.beginPath(),b.arc(a.x,a.y,k,0,2*Math.PI),0===d?(b.strokeStyle="rgba(255,255,255,0.3)",b.lineWidth=1.5,b.stroke(),b.fillStyle="rgba(10, 10, 10, 0.8)",b.fill()):(b.fillStyle="rgba(10, 10, 10, 0.75)",b.fill(),b.strokeStyle=e,b.lineWidth=2.5,b.stroke()),h&&(b.beginPath(),b.arc(a.x,a.y,k+4,0,2*Math.PI),b.strokeStyle="#ffffff",b.lineWidth=2,b.stroke());let l=Math.max(11/c,4);b.font=`700 ${l}px Inter, system-ui, sans-serif`,b.textAlign="center",b.textBaseline="middle",b.fillStyle=0===d?"rgba(255,255,255,0.5)":h?"#ffffff":e;let m=1.7*k,n=g.split(/\s+/),o=[],p=n[0]||"";for(let a=1;a<n.length;a++){let c=p+" "+n[a];b.measureText(c).width>m?(o.push(p),p=n[a]):p=c}o.push(p);let q=1.25*l,r=a.y-(o.length-1)*q/2;for(let c=0;c<o.length;c++)b.fillText(o[c],a.x,r+c*q)},[G,C]),Y=(0,d.useCallback)((a,b,c)=>{let d=x(a.label||"",a.confidence??0);c.fillStyle=b,c.beginPath(),c.arc(a.x,a.y,d,0,2*Math.PI),c.fill()},[]),Z=(0,d.useCallback)((a,b)=>{let c=a.source,d=a.target;c&&d&&"string"!=typeof c&&"string"!=typeof d&&(b.beginPath(),b.moveTo(c.x,c.y),b.lineTo(d.x,d.y),b.strokeStyle="rgba(197, 174, 121, 0.15)",b.lineWidth=.8,b.stroke())},[]),$=G?(0,i.getStatusFromConfidence)(G.confidence):null,_=E&&E.nodes.length>0;return(0,c.jsxs)("div",{className:"h-screen w-screen flex flex-col bg-[#0a0a0a] overflow-hidden",children:[(0,c.jsxs)("header",{className:"flex items-center gap-4 px-4 py-2.5 border-b border-[#C5AE79]/15 bg-[#0a0a0a]/90 backdrop-blur-md z-50 shrink-0",children:[(0,c.jsx)("button",{onClick:()=>f.push("/courses"),className:"text-[#C5AE79]/50 hover:text-[#C5AE79] transition-colors",children:(0,c.jsx)(u,{className:"w-4 h-4"})}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-xs font-bold tracking-wider text-[#C5AE79]/80",children:"NEBULA"}),(0,c.jsx)("span",{className:"text-[#C5AE79]/20",children:"|"}),(0,c.jsx)("span",{className:"text-sm font-semibold text-[#C5AE79] truncate max-w-[300px]",children:E?.course?.name||"Loading..."})]}),(0,c.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,c.jsx)("input",{type:"file",accept:"application/pdf",className:"hidden",ref:y,onChange:V}),(0,c.jsxs)("button",{onClick:()=>y.current?.click(),disabled:A,className:"flex items-center gap-1.5 h-8 px-3 text-xs font-medium bg-[#C5AE79]/10 border border-[#C5AE79]/30 text-[#C5AE79] rounded-lg hover:bg-[#C5AE79]/20 transition-all disabled:opacity-50",children:[A?(0,c.jsx)(n,{className:"w-3.5 h-3.5 animate-spin"}):(0,c.jsx)(l,{className:"w-3.5 h-3.5"}),A?"Analyzing...":"Upload PDF"]})]})]}),(0,c.jsxs)("div",{className:"flex-1 relative min-h-0",children:[F?(0,c.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,c.jsx)(n,{className:"w-6 h-6 animate-spin text-[#C5AE79]"})}):_?(0,c.jsx)(v,{ref:k,graphData:{nodes:E.nodes,links:E.links},nodeCanvasObject:X,nodePointerAreaPaint:Y,linkCanvasObject:Z,onNodeClick:W,backgroundColor:"#0a0a0a",nodeRelSize:28,linkWidth:.8,linkColor:()=>"rgba(197, 174, 121, 0.15)",cooldownTicks:100,d3AlphaDecay:.02,d3VelocityDecay:.3,enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0}):(0,c.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[(0,c.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-[#C5AE79]/10 flex items-center justify-center mb-4",children:(0,c.jsx)(l,{className:"w-8 h-8 text-[#C5AE79]/50"})}),(0,c.jsx)("h2",{className:"text-lg font-semibold text-[#C5AE79] mb-1",children:"Upload Course Material"}),(0,c.jsx)("p",{className:"text-xs text-[#C5AE79]/50 max-w-sm mb-4",children:"Upload a PDF (syllabus, slides, or textbook) to generate your knowledge graph."}),(0,c.jsx)("button",{onClick:()=>y.current?.click(),disabled:A,className:"h-10 px-5 bg-[#C5AE79] text-[#0a0a0a] font-semibold text-sm rounded-lg shadow-[0_0_20px_rgba(197,174,121,0.3)] disabled:opacity-50",children:A?"Analyzing...":"Select PDF"})]}),_&&(0,c.jsx)("div",{className:"absolute bottom-4 left-4 p-3 rounded-xl bg-[#111]/90 border border-[#C5AE79]/15 backdrop-blur-md z-40",children:(0,c.jsxs)("div",{className:"flex flex-col gap-2 text-[10px] text-[#C5AE79]/70 font-medium",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 rounded-full border border-white/30"}),(0,c.jsx)("span",{children:"Unseen"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#ff0055] shadow-[0_0_6px_#ff0055]"}),(0,c.jsx)("span",{className:"text-[#ff0055]",children:"Struggling"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#C5AE79] shadow-[0_0_6px_#C5AE79]"}),(0,c.jsx)("span",{children:"Exposed"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#00ffff] shadow-[0_0_6px_#00ffff]"}),(0,c.jsx)("span",{className:"text-[#00ffff]",children:"Mastered"})]})]})}),H&&G&&(0,c.jsxs)("div",{className:"absolute top-0 right-0 h-full w-80 bg-[#111]/95 border-l border-[#C5AE79]/15 backdrop-blur-xl z-40 flex flex-col shadow-[-10px_0_40px_rgba(0,0,0,0.5)]",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between p-4 border-b border-[#C5AE79]/15",children:[(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("span",{className:"text-base",children:$?.emoji}),(0,c.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-wider",style:{color:w(G.confidence)},children:$?.label})]}),(0,c.jsx)("h3",{className:"text-sm font-bold text-[#C5AE79] truncate",children:G.label}),(0,c.jsx)("span",{className:"text-[10px] text-[#C5AE79]/40 capitalize",children:G.concept_type})]}),(0,c.jsx)("button",{onClick:P,className:"p-1 text-[#C5AE79]/40 hover:text-[#C5AE79] transition-colors",children:(0,c.jsx)(m,{className:"w-4 h-4"})})]}),(0,c.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,c.jsx)("p",{className:"text-xs text-[#C5AE79]/70 leading-relaxed",children:G.description}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between text-[10px] mb-1",children:[(0,c.jsx)("span",{className:"text-[#C5AE79]/50 font-medium",children:"Confidence"}),(0,c.jsxs)("span",{className:"font-bold text-[#C5AE79]",children:[Math.round(100*G.confidence),"%"]})]}),(0,c.jsx)("div",{className:"h-1.5 bg-[#0a0a0a] rounded-full border border-[#C5AE79]/10 overflow-hidden",children:(0,c.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${100*G.confidence}%`,backgroundColor:w(G.confidence),boxShadow:`0 0 8px ${w(G.confidence)}`}})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-[10px] font-semibold text-[#C5AE79] uppercase tracking-wider mb-2",children:"Recommended Resources"}),J?(0,c.jsxs)("div",{className:"flex items-center gap-2 text-[#C5AE79]/40 text-xs py-3",children:[(0,c.jsx)(n,{className:"w-3 h-3 animate-spin"}),"Loading resources..."]}):(0,c.jsx)("div",{className:"space-y-1.5",children:I.map((a,b)=>(0,c.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 p-2.5 rounded-lg bg-[#0a0a0a] border border-[#C5AE79]/10 hover:border-[#00ffff]/30 hover:bg-[#00ffff]/5 transition-all group",children:["video"===a.type?(0,c.jsx)(p,{className:"w-3.5 h-3.5 text-[#C5AE79]/50 mt-0.5 shrink-0 group-hover:text-[#00ffff]"}):(0,c.jsx)(q,{className:"w-3.5 h-3.5 text-[#C5AE79]/50 mt-0.5 shrink-0 group-hover:text-[#00ffff]"}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-[#C5AE79]/80 group-hover:text-[#C5AE79] truncate",children:a.title}),(0,c.jsx)("p",{className:"text-[10px] text-[#C5AE79]/40 mt-0.5 line-clamp-2",children:a.why})]}),(0,c.jsx)(o,{className:"w-3 h-3 text-[#C5AE79]/20 shrink-0 group-hover:text-[#00ffff]"})]},b))})]}),(0,c.jsx)("button",{onClick:()=>Q(G.id),disabled:L,className:"w-full h-9 bg-[#C5AE79]/15 border border-[#C5AE79]/30 text-[#C5AE79] text-xs font-semibold rounded-lg hover:bg-[#C5AE79]/25 transition-all disabled:opacity-50",children:L?"Generating...":"ðŸŽ¯ Take Quick Poll"}),h&&(0,c.jsxs)("div",{className:"pt-3 border-t border-[#C5AE79]/10 space-y-1.5",children:[(0,c.jsx)("p",{className:"text-[9px] text-[#C5AE79]/30 uppercase tracking-widest font-mono mb-2",children:"Dev Controls"}),(0,c.jsxs)("button",{onClick:()=>R(G.id,"correct"),className:"w-full h-7 flex items-center justify-center gap-1.5 text-[10px] font-medium border border-[#00ffff]/30 text-[#00ffff] rounded-md hover:bg-[#00ffff]/10 transition-all",children:[(0,c.jsx)(r,{className:"w-3 h-3"})," Simulate Correct"]}),(0,c.jsxs)("button",{onClick:()=>R(G.id,"wrong"),className:"w-full h-7 flex items-center justify-center gap-1.5 text-[10px] font-medium border border-[#ff0055]/30 text-[#ff0055] rounded-md hover:bg-[#ff0055]/10 transition-all",children:[(0,c.jsx)(s,{className:"w-3 h-3"})," Simulate Wrong"]}),(0,c.jsxs)("button",{onClick:()=>S(G.id,.3),className:"w-full h-7 flex items-center justify-center gap-1.5 text-[10px] font-medium border border-[#C5AE79]/30 text-[#C5AE79] rounded-md hover:bg-[#C5AE79]/10 transition-all",children:[(0,c.jsx)(t,{className:"w-3 h-3"})," Simulate Exposure (+30%)"]})]})]})]}),M&&(0,c.jsx)(z,{poll:K,loading:L,nodeId:G?.id||"",onClose:()=>T(!1),onResult:a=>{G&&R(G.id,a),T(!1)}})]})]})}function z({poll:a,loading:b,nodeId:e,onClose:f,onResult:g}){let[h,i]=(0,d.useState)(null),[j,k]=(0,d.useState)(!1);return(0,c.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,c.jsx)("div",{className:"bg-[#111] border border-[#C5AE79]/20 rounded-2xl w-full max-w-md p-6 shadow-[0_0_60px_rgba(0,0,0,0.8)]",children:b||!a?(0,c.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,c.jsx)(n,{className:"w-6 h-6 animate-spin text-[#C5AE79]"}),(0,c.jsx)("span",{className:"ml-3 text-sm text-[#C5AE79]/60",children:"Generating question..."})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,c.jsx)("h3",{className:"text-sm font-bold text-[#C5AE79] leading-snug pr-4",children:a.question}),(0,c.jsx)("button",{onClick:f,className:"p-1 text-[#C5AE79]/40 hover:text-[#C5AE79] transition-colors shrink-0",children:(0,c.jsx)(m,{className:"w-4 h-4"})})]}),(0,c.jsx)("div",{className:"space-y-2 mb-5",children:a.options?.map((b,d)=>{let e=b[0],f=h===e,g=j&&e===a.correct_answer,k=j&&f&&e!==a.correct_answer;return(0,c.jsx)("button",{onClick:()=>!j&&i(e),disabled:j,className:`w-full text-left p-3 rounded-lg text-xs border transition-all ${g?"border-[#00ffff]/50 bg-[#00ffff]/10 text-[#00ffff]":k?"border-[#ff0055]/50 bg-[#ff0055]/10 text-[#ff0055]":f?"border-[#C5AE79]/50 bg-[#C5AE79]/10 text-[#C5AE79]":"border-[#C5AE79]/15 text-[#C5AE79]/70 hover:border-[#C5AE79]/30"}`,children:b},d)})}),!j&&(0,c.jsx)("button",{onClick:()=>{if(!h||!a)return;let b=h===a.correct_answer;k(!0),setTimeout(()=>{g(b?"correct":"wrong")},1500)},disabled:!h,className:"w-full h-9 bg-[#C5AE79] text-[#0a0a0a] text-xs font-bold rounded-lg disabled:opacity-30 transition-all",children:"Submit Answer"}),j&&(0,c.jsx)("div",{className:`text-center text-sm font-semibold py-2 ${h===a.correct_answer?"text-[#00ffff]":"text-[#ff0055]"}`,children:h===a.correct_answer?"âœ… Correct! Mastery updated.":`âŒ Wrong. Correct answer: ${a.correct_answer}`})]})})})}a.s(["default",()=>y],48921)}];

//# sourceMappingURL=_4cd649e2._.js.map